{"version":3,"sources":["js/pointer.js","js/utils.js","js/main.js"],"names":["$areas","document","querySelectorAll","eventsPlace","createPointer","$pointer","createElement","classList","add","insertAdjacentHTML","body","appendChild","drawPointer","el","title","defaultMapSizes","imageMapPosition","$imageMap","getBoundingClientRect","generateCoords","coordsX","imageMapPositionX","coordsY","imageMapPositionY","pointerX","console","log","pointerY","moveMap","style","left","lineWidth","distanceBetweenCircleAndLine","querySelector","cssText","top","Math","floor","eventCoords","filter","event","x","y","forEach","area","push","coords","split","map","val","slice","mapSize","width","toColor","arr","color","item","$listItems","$introTitle","$dropdown","activeTitle","addEventListener","e","toggle","target","textContent","remove","setTimeout","contains","dataset","subtitle","window","innerWidth","$mobileNav"],"mappings":";;;;;;;AEAA,ADAO,SAASqD,OAAT,CAAiBC,GAAjB,EAAsBC,KAAtB,EAA4B;AAC/BD,EAAAA,GAAG,CAACX,OAAJ,CAAY,UAAAa,IAAI,EAAI;ACAxB,AFDA,ACEQA,IAAAA,IAAI,CAAC3B,KAAL,CAAW0B,KAAX,GAAmBA,KAAnB;AACH,GAFD;ACEJ,ADCC,ICDKE,UAAU,GAAGxD,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,CAAnB;AACA,IAAMwD,WAAW,GAAGzD,QAAQ,CAACgC,aAAT,CAAuB,eAAvB,CAApB;AACA,IAAM0B,SAAS,GAAG1D,QAAQ,CAACgC,aAAT,CAAuB,WAAvB,CAAlB;AAEO,IAAMhB,SAAS,GAAGhB,QAAQ,CAACgC,aAAT,CAAuB,WAAvB,CAAlB;;AAOP,IAAI2B,WAAJ,EAIA;;AACAD,SAAS,CAAC1B,aAAV,CAAwB,gBAAxB,EAA0C4B,gBAA1C,CAA2D,OAA3D,EAAoE,UAACC,CAAD,EAAO;AACvEH,EAAAA,SAAS,CAACpD,SAAV,CAAoBwD,MAApB,CAA2B,QAA3B;AACH,CAFD;AAIA9D,QAAQ,CAAC4D,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,CAAD,EAAO;AAItC;AACA,AF1BJ,IAAM9D,MAAM,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,gBAA1B,CAAf;AE2BI,AF1BJ,IAAMC,EE0BCyD,SF1BU,EE0BC,CF1BE,EAApB,EE0BuBE,CAAC,CAACE,MAAF,CAASC,WAA5B,EAAwC;AACpC;AACH,AF1BE,GEkBmC,CAWtC,KF7BY7D,aAAT,GAAwB;AE8B3B,AF7BA;AACA,MAAMC,QAAQ,GAAGJ,QAAQ,CAACK,aAAT,CAAuB,KAAvB,CAAjB,CAF2B,CAG3B;;AE4BA,AF3BAD,EAAAA,IE2BMA,IF3BE,CAACE,GE2BK,GAAGN,GF3BjB,CAAmBO,GAAnB,CE2ByB,AF3BF,CE2BGN,QF3B1B,EAJ2B,CAK3B,KE0BiB,CAA0B,UAA1B,CAAjB;AACAG,EAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAEsC,OAAV,CAAkB,UAAA9B,EAAE,EAAI;AACpBA,AF3BJR,EAAAA,EE2BIQ,EAAE,CAACN,GF3BC,CAACE,KE2BL,CAAayD,MAAb,CAAoB,KF3BxB,CAA4B,EE2BxB,UF3BJ,iMAN2B,CAc3B;AEoBIC,IAAAA,UAAU,CAAC,YAAM;AACbtD,AFpBRZ,EAAAA,IEoBQY,EAAE,CAACqD,CFpBH,CAACxD,IEoBD,AFpBR,CAAcC,WAAd,CAA0BN,QAA1B,EAf2B,CAiB3B;AEmBK,AFlBL,KEgBc,EAEP,GAFO,CAAV;AAGH,AFlBD,GEaA,EAdsC,CAqBtC;AFnBA;AEoBAuD,AFnBA,EEmBAA,WAAW,GAAG,EAAd,CAtBsC,CAyBtC;AFrBA;AEsBA,AFrBA,MEqBGE,CAAC,CAACE,MAAF,CAASzD,SAAT,CAAmB6D,QAAnB,CAA4B,YAA5B,CAAH,EAA6C;AAEzC;AACA,AFvBJ,QEuBU/D,CFvBHA,QEuBW,AFvBlB,GEuBqB,6BAAjB,CAHyC,CAKzC;AFxBP;;AEyBOuD,AFtBD,IEsBCA,KFtBQhD,MEsBG,GAAGkD,CAAC,CAACE,AFtBjB,CAAqBnD,EAArB,EAAyBC,CEsBV,CAASmD,GFtBxB,EAA+B,MEsB9B,CANyC,CAQzC;AFtBJ,MAAMlD,eAAe,GAAG,CAAC,IAAD,EAAO,GAAP,CAAxB;AEuBI,8BAAYV,SAAZ,EAAsByD,CAAC,CAACE,MAAF,CAASC,WAA/B,EATyC,CAWzC;AFvBJ,MAAMjD,gBAAgB,GAAGC,gBAAUC,qBAAV,EAAzB;AEwBIb,IAAAA,SAAQ,CAAC4B,aAAT,CAAuB,iBAAvB,EAA0CgC,WAA1C,GAAwDH,CAAC,CAACE,MAAF,CAASC,WAAjE;AACA5D,AFxBJ,IEwBIA,SAAQ,CAAC4B,UFxBoDd,GEwB7D,CAAuB,UFxBoD,CAACL,KAAD,EAAOE,EEwBlF,EAA6CiD,WAA7C,CFxB2E,CAA/E,CEwB+DH,CAAC,CAACE,MAAF,CAASK,OAAT,CAAiBC,QAA5E,CAbyC,CAezC;AF1BJ;AE2BIZ,AF3BJ,IE2BIA,EF3BGtC,OAAP,EE2Be,CAACb,SAAZ,CAAsBC,GAAtB,CAA0B,MAA1B,EAhByC,CAkBzC;AF7BJ,MAAgBa,iBAAhB;AE8BI,AF9BJ,MAAmCC,OAAnC,WE8BYmC,UAAR,EAAoBc,MAAM,CAACC,UAAP,GAAoB,GAApB,GAA0B,oBAA1B,GAAiD,oBAArE,EAnByC,CAqBzC;AFhCJ,MAA4CjD,iBAA5C;AEiCIgD,IAAAA,MAAM,CAACC,UAAP,GAAoB,GAApB,KAA4BV,CAAC,CAACE,MAAF,CAASnC,KAAT,CAAe0B,KAAf,GAAuB,OAAnD,EAtByC,CAwBzC;AFlCJ,MAAM/B,QAAQ,GAAGJ,OAAO,GAAGC,iBAA3B;AEmCIhB,AFlCJoB,EAAAA,EEkCIpB,KFlCG,CAACqB,GEkCI,AFlCZ,CEkCanB,AFlCDe,OAAZ,EEkCI,CAAmBd,GAAnB,CAAuB,QAAvB;AACH,AFlCD,GEQA,GFRMmB,GEmCD,KFnCS,GAAGL,OAAO,GAAGC,iBAA3B;AEqCI,AFpCJK,EAAAA,OAAO,CAACR,OAAD,EAAUJ,gBAAV,EAA4BD,eAA5B,CAAP;AEqCI,AFpCJF,EAAAA,EAAE,CAACgB,KAAH,CAASC,IAAT;AEqCIb,AFnCJ,IEmCIA,EFnCEc,OEmCO,CAACF,CFnCC,GAAG,CEmCd,CAAgBC,CFnCpB,GEmCI,GAAuB,KAAvB;AACA4B,AFnCJ,IEmCIA,EFnCE1B,SEmCS,CAACzB,SAAZ,CAAsB2D,MAAtB,CAA6B,CFnCC,GAAG,EEmCjC,EFnCJ;AEoCI,AFjCJrD,EAAAA,EAAE,CAACoB,aAAH,CAAiB,KEiCLwB,EFjCZ,EAA0B5B,KAA1B,CEiCI,AFjC4BK,EEiCR,KFjCxB,CEiCI,EFjCsCV,QAAQ,GAAGQ,4BAAX,GAA0CD,SAA1C,GAAsD,EAAtD,GAA2D,CAA3D,GAA+D,cAA/D,GAAgF,eAA1H;AEkCC,AFjCDlB,EAAAA,EAAE,CAACoB,aAAH,CAAiB,iBAAjB,EAAoCJ,KAApC,CAA0CK,OAA1C,GAAoDV,QAAQ,GAAGQ,4BAAX,GAA0CD,SAA1C,GAAsD,EAAtD,GAA2D,CAA3D,GAA+D,WAA/D,GAA6E,UAAjI;AEkCH,AFjCGlB,CE5BJ,CF4BIA,EAAE,CAACoB,aAAH,CAAiB,oBAAjB,EAAuCJ,KAAvC,CAA6CK,OAA7C,GAAuDV,QAAQ,GAAGQ,4BAAX,GAA0CD,SAA1C,GAAsD,EAAtD,GAA2D,CAA3D,GAA+D,WAA/D,GAA6E,UAApI;AEmCJ,AFjCIlB,EAAAA,EEiCE4D,AFjCA,CAAC5C,KAAH,CAASM,GEiCG,AFjCZ,GEiCelC,AFjCAmC,IAAI,CAACC,GEiCG,CAACJ,CFjCT,CAAWN,QAAQ,GEiCnB,CAAuB,AFjCFX,gBAAgB,CAAC,QEiCtC,AFjCqC,CEiCxD,AFjCwC,GAA2BD,eAAe,CAAC,CAAD,CAA5C,CAAnB,IAAuE,IAAtF;AEmCJd,AFlCC,QEkCO,CAACgC,aAAT,CAAuB,WAAvB,EAAoC4B,gBAApC,CAAqD,OAArD,EAA8D,YAAM;AAChEY,EAAAA,UAAU,CAAClE,SAAX,CAAqBC,GAArB,CAAyB,QAAzB;AACH,AFlCM,CEgCP,QFhCgBW,cAAT,CAAwBL,KAAxB,EAA+BE,gBAA/B,EAAgD;AEoCvDf,AFlCI,QEkCI,CAACgC,aAAT,CAAuB,kBAAvB,EAA2C4B,gBAA3C,CAA4D,OAA5D,EAAqE,YAAM;AACvEY,AFlCA,EEkCAA,IFlCMnC,MEkCI,CAAC/B,IFlCM,GAAGJ,EEkCpB,CAAqB+D,MAArB,CAA4B,CFlCG,CAAC3B,MEkChC,AFlCoB,CAAmB,UAAAC,KAAK;AEmC/C,AFnC+C,CEiChD,UFjCoDA,KAAK,CAAC1B,KAAN,KAAgBA,KAApB;AAAA,GAAxB,EAAmD,CAAnD,EAAsD,QAAtD,CAApB;;AACA,oCAA2BwB,WAA3B;AAAA,MAAOlB,OAAP;AAAA,MAAgBE,OAAhB;;AAEA,MAAOmB,CAAP,GAAezB,gBAAf,CAAOyB,CAAP;AAAA,MAAUC,CAAV,GAAe1B,gBAAf,CAAU0B,CAAV;AAEA,SAAO,CAACtB,OAAD,EAAUqB,CAAV,EAAcnB,OAAd,EAAuBoB,CAAvB,CAAP;AACH;;AAED1C,MAAM,CAAC2C,OAAP,CAAe,UAAAC,IAAI,EAAI;AACnBzC,EAAAA,WAAW,CAAC0C,IAAZ,CACI;AACI/B,IAAAA,KAAK,EAAE8B,IAAI,CAAC9B,KADhB;AAEIgC,IAAAA,MAAM,EAAEF,IAAI,CAACE,MAAL,CAAYC,KAAZ,CAAkB,GAAlB,EAAuBC,GAAvB,CAA2B,UAAAC,GAAG;AAAA,aAAI,CAACA,GAAL;AAAA,KAA9B,EAAwCC,KAAxC,CAA8C,CAA9C,EAAgD,CAAhD;AAFZ,GADJ;AAMH,CAPD;;AASA,SAAStB,OAAT,CAAiBkB,MAAjB,EAAyB9B,gBAAzB,EAA2CmC,OAA3C,EAAmD;AAC/C1B,EAAAA,OAAO,CAACC,GAAR,CAAYV,gBAAZ,EAA6B8B,MAA7B,EAAqCK,OAArC;AACAlC,kBAAUY,KAAV,CAAgBC,IAAhB,wBAAqCM,IAAI,CAACC,KAAL,CAAWrB,gBAAgB,CAACoC,KAAjB,GAAuB,CAAvB,GAAyBN,MAAM,IAAE9B,gBAAgB,CAACoC,KAAjB,GAAuBD,OAAO,CAAC,CAAD,CAAhC,CAA1C,CAArC;AACH","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["import {$imageMap } from \"./main\"\r\n\r\nconst $areas = document.querySelectorAll(\".area-position\")\r\nconst eventsPlace = []\r\n\r\nexport function createPointer(){\r\n    // Tworzymy nasz element\r\n    const $pointer = document.createElement(\"div\")\r\n    // Nadajemy dla div elementa klasę pointer\r\n    $pointer.classList.add(\"pointer\")\r\n    // Wstawiamy w div kontent HTML\r\n    $pointer.insertAdjacentHTML(\"afterbegin\", `\r\n        <div class=\"line\">\r\n            <span class=\"line__top-text\">\r\n            </span>\r\n            <span class=\"line__bottom-text\">\r\n            </span>\r\n        </div>\r\n    `)\r\n    // Wstawiamy nasz div \"pointer\" do dokumentu DOM\r\n    document.body.appendChild($pointer)\r\n    \r\n    // // Dodajemy 2 eventListenery przy skrolowaniu, bądź przy zmniejszeniu/zwiększeniu ekranu punkt zostaje w tym samym miejscu i nigdzie nie zjeżdża\r\n    // window.addEventListener(\"scroll\", () => {\r\n    //     activeTitle && drawPointer($pointer, activeTitle)\r\n    // })\r\n    // window.addEventListener(\"resize\", () => {\r\n    //     activeTitle && drawPointer($pointer, activeTitle)\r\n    // })\r\n    return $pointer;\r\n}\r\n\r\n\r\nexport function drawPointer(el, title){\r\n    \r\n    const defaultMapSizes = [1556, 787]\r\n    \r\n    const imageMapPosition = $imageMap.getBoundingClientRect()\r\n    const [coordsX, imageMapPositionX, coordsY, imageMapPositionY] = generateCoords(title,imageMapPosition)\r\n    const pointerX = coordsX + imageMapPositionX\r\n    console.log(coordsY)\r\n    const pointerY = coordsY + imageMapPositionY\r\n    moveMap(coordsX, imageMapPosition, defaultMapSizes)\r\n    el.style.left = `50%`\r\n    \r\n    const lineWidth = 240;\r\n    const distanceBetweenCircleAndLine = 22.4\r\n    \r\n\r\n    el.querySelector(\".line\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"left: 1.4rem\" : \"right: 1.4rem\";\r\n    el.querySelector(\".line__top-text\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"right: 0;\" : \"left: 0;\";\r\n    el.querySelector(\".line__bottom-text\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"right: 0;\" : \"left: 0;\";\r\n    \r\n    el.style.top = Math.floor(pointerY*(imageMapPosition['height']/defaultMapSizes[1])) + \"px\"\r\n}\r\n\r\nexport function generateCoords(title, imageMapPosition){\r\n\r\n    // eventCoords - zmienna, w której znajduje się nazwa eventu i koordynaty (x, y) gdzie dane wydarzenie się odbędzie\r\n    const eventCoords = eventsPlace.filter(event => event.title === title)[0]['coords'] \r\n    const [coordsX, coordsY] = eventCoords\r\n    \r\n    const {x, y} = imageMapPosition\r\n    \r\n    return [coordsX, x , coordsY, y]\r\n}\r\n\r\n$areas.forEach(area => {  \r\n    eventsPlace.push(\r\n        {\r\n            title: area.title,\r\n            coords: area.coords.split(\",\").map(val => +val).slice(0,2)\r\n        }\r\n    )  \r\n})\r\n\r\nfunction moveMap(coords, imageMapPosition, mapSize){\r\n    console.log(imageMapPosition,coords, mapSize)\r\n    $imageMap.style.left = `calc(50% + ${Math.floor(imageMapPosition.width/2-coords*(imageMapPosition.width/mapSize[0]))}px)`\r\n}","export function toColor(arr, color){\r\n    arr.forEach(item => {\r\n        item.style.color = color;\r\n    })\r\n}","import { createPointer, drawPointer } from \"./pointer\";\r\nimport { toColor } from \"./utils\";\r\n\r\nconst $listItems = document.querySelectorAll(\".list__item\")\r\nconst $introTitle = document.querySelector(\".intro__title\")\r\nconst $dropdown = document.querySelector(\".dropdown\")\r\n\r\nexport const $imageMap = document.querySelector(\".user-map\")\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet activeTitle;\r\n\r\n\r\n\r\n// Dodajemy eventListener na przycisk dropdown'a, gdy użytkownik klika na container, w którym są nadpis PL i strzałka w dół to nasz dropdown się otwiera.\r\n$dropdown.querySelector(\".dropdown__btn\").addEventListener(\"click\", (e) => {\r\n    $dropdown.classList.toggle(\"active\")\r\n})\r\n\r\ndocument.addEventListener('click', (e) => {\r\n    \r\n    \r\n\r\n    // Jeżeli użytkownik kliknąl na element z listy i jeżeli aktywny element z listy jest identyczny bądź jest ten samy,\r\n    // to nic się nie dzieje\r\n    if(activeTitle === e.target.textContent){\r\n        return\r\n    }\r\n    \r\n\r\n    // Gdy użytkownik kliknął na element z listy i on jest aktywny i później klika na następny element (nie identycznego do poprzedniego)\r\n    // To usuwamy poprzednią kropkę z informacją o wydarzeniu, na który użytkownik kliknął wcześniej\r\n    const $pointer = document.querySelectorAll(\".pointer\")\r\n    $pointer?.forEach(el => {\r\n        el.classList.remove(\"active\")\r\n        setTimeout(() => {\r\n            el.remove()\r\n        }, 300)\r\n    })\r\n\r\n    // Resetujemy aktywny tytuł\r\n    activeTitle = ''\r\n\r\n    \r\n    // Sprawdzamy, czy użytkownik kliknął na element z listy\r\n    if(e.target.classList.contains(\"list__item\")){\r\n\r\n        // Tworzymy punkt do pokazania na naszej mapie\r\n        const $pointer = createPointer();\r\n\r\n        // Nadajemy dla activeTitle aktualny tytuł wydarzenia (np. \"Paris Air Show\")\r\n        activeTitle = e.target.textContent\r\n\r\n        // Nadajemy pozycje dla naszego punkta i również w tej funkcji przesuwamy mapę według osi X w odpowiednie miejsce\r\n        drawPointer($pointer, e.target.textContent)\r\n\r\n        // Nadajemy tekst dla naszego tekstu, który znajduje się nad linią i pod linią ( ta linia jest przyczepiona do punktu )\r\n        $pointer.querySelector(\".line__top-text\").textContent = e.target.textContent\r\n        $pointer.querySelector(\".line__bottom-text\").textContent = e.target.dataset.subtitle\r\n\r\n        // W ten moment chowamy tytuł \"World ahead\", nadając mu klasę w DOM \"hide\" \r\n        $introTitle.classList.add(\"hide\")\r\n\r\n        // Utylita, zmieniająca kolor wszystkich elementów z listy na odpowiedni, który podaliśmy jako drugi argument.\r\n        toColor($listItems, window.innerWidth > 600 ? \"rgba(112, 5, 7, 1)\" : \"rgba(112, 5, 7, 0)\")\r\n\r\n        // Nadajemy kolor biały dla aktywnego elementu z listy, czyli element, na który użytkownik kliknął\r\n        window.innerWidth > 600 && (e.target.style.color = \"white\")\r\n\r\n        // Pokazujemy nasz punkt na mapie\r\n        $pointer.classList.add(\"active\")\r\n    } \r\n    else {\r\n\r\n        // Gdy użytkownik wcześniej kliknął na element z listy i póżniej kliknął gdzieś indziej, to mapa wraca na standardową pozycję,  \r\n        // a elementy z listy wracają w standardowy stan (w stan przed kliknięciem)\r\n        $imageMap.style.left = \"50%\";\r\n        $introTitle.classList.remove(\"hide\") \r\n        toColor($listItems, \"#fff\")\r\n    }\r\n})\r\n\r\nconst $mobileNav = document.querySelector(\".nav-mobile__background\")\r\n\r\ndocument.querySelector(\".nav__btn\").addEventListener(\"click\", () => {\r\n    $mobileNav.classList.add(\"active\")\r\n})\r\n\r\ndocument.querySelector(\".nav-mobile__btn\").addEventListener(\"click\", () => {\r\n    $mobileNav.classList.remove(\"active\")\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}