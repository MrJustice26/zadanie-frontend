{"version":3,"sources":["js/pointer.js","js/main.js"],"names":["$imageMap","document","querySelector","$areas","querySelectorAll","eventsPlace","eventCoordsCalcX","createPointer","$pointer","createElement","classList","add","insertAdjacentHTML","body","appendChild","window","addEventListener","activeTitle","drawPointer","el","title","imageMapPosition","getBoundingClientRect","generateCoords","coordsX","imageMapPositionX","coordsY","imageMapPositionY","pointerX","pointerY","pageYOffset","style","left","width","lineWidth","distanceBetweenCircleAndLine","cssText","top","eventCoords","filter","event","x","y","forEach","area","push","coords","split","map","val","slice","$listItems","$introTitle","$dropdown","desiredColor","e","toggle","target","textContent","remove","setTimeout","contains","dataset","subtitle","toColor","color","arr","item"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..\\src","sourcesContent":["const $imageMap = document.querySelector(\".user-map\")\r\nconst $areas = document.querySelectorAll(\".area-position\")\r\nconst eventsPlace = []\r\n\r\nlet eventCoordsCalcX;\r\n\r\nexport function createPointer(){\r\n    const $pointer = document.createElement(\"div\")\r\n    $pointer.classList.add(\"pointer\")\r\n    $pointer.insertAdjacentHTML(\"afterbegin\", `\r\n        <div class=\"line\">\r\n            <span class=\"line__top-text\">\r\n            </span>\r\n            <span class=\"line__bottom-text\">\r\n            </span>\r\n        </div>\r\n    `)\r\n    document.body.appendChild($pointer)\r\n    window.addEventListener(\"scroll\", () => {\r\n        activeTitle && drawPointer($pointer, activeTitle)\r\n    })\r\n    window.addEventListener(\"resize\", () => {\r\n        activeTitle && drawPointer($pointer, activeTitle)\r\n    })\r\n    return $pointer;\r\n}\r\n\r\n\r\nexport function drawPointer(el, title){\r\n    \r\n    \r\n    const imageMapPosition = $imageMap.getBoundingClientRect()\r\n    const [coordsX, imageMapPositionX, coordsY, imageMapPositionY] = generateCoords(title,imageMapPosition)\r\n    \r\n    const pointerX = coordsX + imageMapPositionX\r\n    const pointerY = coordsY + imageMapPositionY + window.pageYOffset\r\n    $imageMap.style.left = `calc(50% + ${imageMapPosition.width/2-coordsX}px)`\r\n    el.style.left = `50%`\r\n    \r\n    const lineWidth = 240;\r\n    const distanceBetweenCircleAndLine = 22.4\r\n    \r\n\r\n    el.querySelector(\".line\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"left: 1.4rem\" : \"right: 1.4rem\";\r\n    el.querySelector(\".line__top-text\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"right: 0;\" : \"left: 0;\";\r\n    el.querySelector(\".line__bottom-text\").style.cssText = pointerX - distanceBetweenCircleAndLine - lineWidth + 59 < 0 ? \"right: 0;\" : \"left: 0;\";\r\n    \r\n    el.style.top = pointerY + \"px\"\r\n}\r\n\r\nexport function generateCoords(title, imageMapPosition){\r\n\r\n    // eventCoords - zmienna, w której znajduje się nazwa eventu i koordynaty (x, y) gdzie dane wydarzenie się odbędzie\r\n    const eventCoords = eventsPlace.filter(event => event.title === title)[0]['coords'] \r\n    const [coordsX, coordsY] = eventCoords\r\n    \r\n    const {x, y} = imageMapPosition\r\n    \r\n    return [coordsX, x , coordsY, y]\r\n}\r\n\r\n$areas.forEach(area => {  \r\n    eventsPlace.push(\r\n        {\r\n            title: area.title,\r\n            coords: area.coords.split(\",\").map(val => +val).slice(0,2)\r\n        }\r\n    )  \r\n})","import { createPointer, drawPointer } from \"./pointer\";\r\n\r\nconst $listItems = document.querySelectorAll(\".list__item\")\r\nconst $introTitle = document.querySelector(\".intro__title\")\r\nconst $dropdown = document.querySelector(\".dropdown\")\r\n\r\n\r\nconst desiredColor = \"#700507\";\r\n\r\n\r\n\r\n\r\nlet activeTitle;\r\n\r\n\r\n$dropdown.querySelector(\".dropdown__btn\").addEventListener(\"click\", (e) => {\r\n    $dropdown.classList.toggle(\"active\")\r\n})\r\n\r\ndocument.addEventListener('click', (e) => {\r\n\r\n\r\n    // Jeżeli użytkownik kliknąl na element z listy i jeżeli aktywny element z listy jest ten samy,\r\n    // to nic się nie dzieje\r\n    if(activeTitle === e.target.textContent){\r\n        return\r\n    }\r\n    \r\n    const $pointer = document.querySelectorAll(\".pointer\")\r\n    $pointer?.forEach(el => {\r\n        el.classList.remove(\"active\")\r\n        setTimeout(() => {\r\n            el.remove()\r\n        }, 300)\r\n    })\r\n    activeTitle = ''\r\n\r\n    \r\n    if(e.target.classList.contains(\"list__item\")){\r\n\r\n        const $pointer = createPointer();\r\n        activeTitle = e.target.textContent\r\n        \r\n        drawPointer($pointer, e.target.textContent)\r\n        $pointer.querySelector(\".line__top-text\").textContent = e.target.textContent\r\n        $pointer.querySelector(\".line__bottom-text\").textContent = e.target.dataset.subtitle\r\n        $introTitle.classList.add(\"hide\")\r\n        toColor($listItems, desiredColor)\r\n        e.target.style.color = \"white\"\r\n        $pointer.classList.add(\"active\")\r\n    } \r\n    else {\r\n        $introTitle.classList.remove(\"hide\") \r\n        toColor($listItems, \"#fff\")\r\n    }\r\n})\r\n\r\n\r\nfunction toColor(arr, color){\r\n    arr.forEach(item => {\r\n        item.style.color = color;\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}